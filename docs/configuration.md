# é…ç½®è¯´æ˜ (Configuration)

æœ¬é¡¹ç›®ä½¿ç”¨ YAML æ ¼å¼è¿›è¡Œé…ç½®ã€‚æ ¹æ®è¿è¡Œç¯å¢ƒä¸åŒï¼Œç³»ç»Ÿä¼šåŠ è½½ `conf/deployment.yml` (å¼€å‘) æˆ– `conf/production.yml` (ç”Ÿäº§)ã€‚

## ğŸ“ å­—æ®µè¯¦ç»†è¯´æ˜

### 1. Server (æœåŠ¡å™¨è®¾ç½®)

| å­—æ®µ | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
| --- | --- | --- | --- | --- |
| `server.listen-address` | String | æ˜¯ | `0.0.0.0:9000` | åç«¯ API æœåŠ¡çš„ç›‘å¬åœ°å€ä¸ç«¯å£ã€‚ |
| `server.proxy-listen-address` | String | æ˜¯ | `0.0.0.0:9001` | è½¬å‘æµé‡çš„ä»£ç†å…¥å£åœ°å€ã€‚ |

### 2. Database (æ•°æ®åº“è®¾ç½®)

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `database.username` | String | æ˜¯ | æ•°æ®åº“ç™»å½•ç”¨æˆ·åã€‚ |
| `database.password` | String | æ˜¯ | æ•°æ®åº“ç™»å½•å¯†ç ã€‚ |
| `database.address` | String | æ˜¯ | æ•°æ®åº“è¿æ¥åœ°å€ï¼ˆä¸å¸¦ç«¯å£ï¼‰ã€‚ |
| `database.port` | Int | æ˜¯ | æ•°æ®åº“ç«¯å£ï¼ˆå¦‚ MySQL é»˜è®¤ 3306ï¼‰ã€‚ |
| `database.use-tls` | Boolean | å¦ | æ˜¯å¦å¯ç”¨ SSL/TLS åŠ å¯†è¿æ¥ã€‚ |

### 3. Auth (å®‰å…¨è®¤è¯)

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `auth.jwt-key` | String | æ˜¯ | **æ ¸å¿ƒå¯†é’¥**ã€‚ç”¨äºç­¾å‘ Tokenï¼Œå»ºè®®ä½¿ç”¨ 32 ä½ä»¥ä¸Šéšæœºå­—ç¬¦ä¸²ã€‚ |

---

## ğŸ” å®‰å…¨å»ºè®®

> [!CAUTION]
> **åˆ‡å‹¿æ³„éœ²æ‚¨çš„ `jwt-key`ï¼**
> åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œè¯·åŠ¡å¿…ä¿®æ”¹é»˜è®¤å¯†é’¥ã€‚å¦‚æœå¯†é’¥ä¸¢å¤±æˆ–è¢«æ›´æ”¹ï¼Œæ‰€æœ‰å·²ç™»å½•çš„ç”¨æˆ·ä»¤ç‰Œï¼ˆTokenï¼‰å°†ç«‹å³å¤±æ•ˆã€‚

---

## ğŸ“„ å®Œæ•´é…ç½®ç¤ºä¾‹

ä½ å¯ä»¥ç›´æ¥å¤åˆ¶ä»¥ä¸‹å†…å®¹åˆ° `conf/production.yml` å¹¶è¿›è¡Œä¿®æ”¹ï¼š

```yaml
# OpenMCP-Gateway ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶

server:
  # API æœåŠ¡åœ°å€ï¼Œ0.0.0.0 è¡¨ç¤ºç›‘å¬æ‰€æœ‰ç½‘å¡
  listen-address: "0.0.0.0:9000"
  # è½¬å‘æµé‡å…¥å£
  proxy-listen-address: "0.0.0.0:9001"

database:
  username: "admin"
  password: "your_secure_password"
  database: "openmcp_db"
  address: "127.0.0.1"
  port: 21024
  use-tls: false

auth:
  # å»ºè®®ç”Ÿæˆæ–¹å¼: openssl rand -base64 32
  jwt-key: "GR9S8v8_EXAMPLE_KEY_DO_NOT_USE_IN_PROD"

```